{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://udemy-plus/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst openModalBtn = document.querySelectorAll(\".open-modal\");\r\n\tconst modalEl = document.querySelector(\".wp-block-udemy-plus-auth-modal\");\r\n\tconst modalCloseEl = document.querySelectorAll(\r\n\t\t\".modal-overlay, .modal-btn-close\"\r\n\t);\r\n\r\n\topenModalBtn.forEach((element) => {\r\n\t\telement.addEventListener(\"click\", (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tmodalEl.classList.add(\"modal-show\");\r\n\t\t});\r\n\t});\r\n\r\n\tmodalCloseEl.forEach((element) => {\r\n\t\telement.addEventListener(\"click\", (event) => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tmodalEl.classList.remove(\"modal-show\");\r\n\t\t});\r\n\t});\r\n\r\n\tconst tabs = document.querySelectorAll(\".tabs a\");\r\n\tconst signinForm = document.querySelector(\"#signin-tab\");\r\n\tconst signupForm = document.querySelector(\"#signup-tab\");\r\n\r\n\ttabs.forEach((tab) => {\r\n\t\ttab.addEventListener(\"click\", (event) => {\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\ttabs.forEach((currentTab) => {\r\n\t\t\t\tcurrentTab.classList.remove(\"active-tab\");\r\n\t\t\t});\r\n\t\t\tevent.currentTarget.classList.add(\"active-tab\");\r\n\r\n\t\t\tconst activeTab = event.currentTarget.getAttribute(\"href\");\r\n\t\t\tif (activeTab === \"#signin-tab\") {\r\n\t\t\t\tsigninForm.style.display = \"block\";\r\n\t\t\t\tsignupForm.style.display = \"none\";\r\n\t\t\t} else {\r\n\t\t\t\tsigninForm.style.display = \"none\";\r\n\t\t\t\tsignupForm.style.display = \"block\";\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\tsignupForm.addEventListener(\"submit\", async (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst signupFieldset = signupForm.querySelector(\"fieldset\");\r\n\t\tsignupFieldset.setAttribute(\"disabled\", true);\r\n\r\n\t\tconst signupStatus = signupForm.querySelector(\"#signup-status\");\r\n\t\tsignupStatus.innerHTML = `<div class = \"modal-status modal-status-info\">Please Wait. We're creating your account</div>`;\r\n\r\n\t\tconst formData = {\r\n\t\t\tusername: signupForm.querySelector(\"#su-name\").value,\r\n\t\t\temail: signupForm.querySelector(\"#su-email\").value,\r\n\t\t\tpassword: signupForm.querySelector(\"#su-password\").value,\r\n\t\t};\r\n\r\n\t\tconst response = await fetch(up_auth_rest.signup, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(formData),\r\n\t\t});\r\n\r\n\t\tconst responseJSON = response.json();\r\n\r\n\t\tif (responseJSON.status === 2) {\r\n\t\t\tsignupStatus.innerHTML = `<div class=\"modal-status modal-status-success\">Success! You're account has been created.</div>`;\r\n\t\t\tlocation.reload();\r\n\t\t} else {\r\n\t\t\tsignupFieldset.removeAttribute(\"disabled\");\r\n\t\t\tsignupStatus.innerHTML = `<div class=\"modal-status modal-status-danger\">Unable to create account!</div>`;\r\n\t\t}\r\n\t});\r\n\r\n\tsigninForm.addEventListener(\"submit\", async (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst signinFieldset = signinForm.querySelector(\"fieldset\");\r\n\t\tsigninFieldset.setAttribute(\"disabled\", true);\r\n\r\n\t\tconst signinStatus = signinForm.querySelector(\"#signin-status\");\r\n\t\tsigninStatus.innerHTML = `<div class = \"modal-status modal-status-info\">Please Wait. We're logging you in.</div>`;\r\n\r\n\t\tconst formData = {\r\n\t\t\tuser_login: signinForm.querySelector(\"#si-email\").value,\r\n\t\t\tpassword: signinForm.querySelector(\"#si-password\").value,\r\n\t\t};\r\n\r\n\t\tconst response = await fetch(up_auth_rest.signin, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(formData),\r\n\t\t});\r\n\r\n\t\tconst responseJSON = response.json();\r\n\r\n\t\tif (responseJSON.status === 2) {\r\n\t\t\tsigninStatus.innerHTML = `<div class=\"modal-status modal-status-success\">Success! You're logged in.</div>`;\r\n\t\t\tlocation.reload();\r\n\t\t} else {\r\n\t\t\tsigninFieldset.removeAttribute(\"disabled\");\r\n\t\t\tsigninStatus.innerHTML = `<div class=\"modal-status modal-status-danger\">Unable to log in!</div>`;\r\n\t\t}\r\n\t});\r\n});\r\n"],"names":["document","addEventListener","openModalBtn","querySelectorAll","modalEl","querySelector","modalCloseEl","forEach","element","event","preventDefault","classList","add","remove","tabs","signinForm","signupForm","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signupFieldset","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","up_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute","signinFieldset","signinStatus","user_login","signin"],"sourceRoot":""}